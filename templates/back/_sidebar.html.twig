<aside class="sidebar">
    <div class="sidebar-header">
        <div class="logo">
            <h2>FAHIMNI</h2>
            <div class="brand-sub">Admin</div>
        </div>
    </div>

    <div class="admin-profile">
        <div style="display:flex;align-items:center;gap:10px">
            <div class="avatar">
                {%- set name = app.user.fullName|default(app.user.username|default('A')) -%}
                {%- set parts = name|split(' ') -%}
                <div style="width:44px;height:44px;border-radius:10px;background:var(--primary);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700">
                    {%- if parts|length >= 2 -%}{{ parts[0][0:1]|upper }}{{ parts[1][0:1]|upper }}{%- else -%}{{ name[0:1]|upper }}{%- endif -%}
                </div>
            </div>
            <div class="admin-info">
                <h4>{{ app.user.fullName|default(app.user.username|default('Admin')) }}</h4>
                <p>Administrator</p>
            </div>
        </div>
    </div>

    {% set current_route = app.request.get('_route') ?? '' %}
    <ul class="sidebar-nav">
        <li class="{% if current_route == 'admin_dashboard' %}active{% endif %}"><a href="{{ path('admin_dashboard') }}"><i class="fas fa-tachometer-alt"></i><span class="label">Dashboard</span></a></li>
        <li class="{% if current_route starts with 'admin_users_' %}active{% endif %}"><a href="{{ path('admin_users_index') }}"><i class="fas fa-users"></i><span class="label">Users</span></a></li>
        <li class="{% if current_route starts with 'admin_messenger_' %}active{% endif %}"><a href="{{ path('admin_messenger_index') }}"><i class="fas fa-comments"></i><span class="label">Messagerie</span></a></li>
        <li class="{% if current_route == 'admin_articles' %}active{% endif %}"><a href="{{ path('admin_articles') }}"><i class="fas fa-newspaper"></i><span class="label">Articles</span></a></li>
        <li class="{% if current_route starts with 'admin_quiz_' %}active{% endif %}"><a href="{{ path('admin_quiz_list') }}"><i class="fas fa-question-circle"></i><span class="label">Quiz</span></a></li>
        <li class="{% if current_route == 'admin_statistics' %}active{% endif %}"><a href="{{ path('admin_statistics') }}"><i class="fas fa-chart-bar"></i><span class="label">Statistics</span></a></li>
        <li><a href="{{ path('app_logout') }}"><i class="fas fa-sign-out-alt"></i><span class="label">Logout</span></a></li>
    </ul>
</aside>
