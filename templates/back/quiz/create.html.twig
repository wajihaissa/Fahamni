{% extends 'base.html.twig' %}

{% block title %}Nouveau quiz - FAHIMNI Admin{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        :root{--bg:#f8fafc;--card:#fff;--muted:#6b7280;--text-primary:#0b1220;--border:#e5e7eb;--primary:#6c5ce7;--primary-grad:linear-gradient(90deg,#7c6cff 0%,#6c5ce7 100%);--primary-gradient:linear-gradient(135deg,#667eea 0%,#764ba2 100%);--radius:12px;--shadow:0 6px 18px rgba(11,18,32,0.06);--sidebar-width:280px;}
        body{font-family:Inter,system-ui,-apple-system,'Segoe UI',Roboto,Arial,sans-serif;background:var(--bg);color:var(--muted)}
        .sidebar{position:fixed;top:0;left:0;width:var(--sidebar-width);height:100vh;background:linear-gradient(180deg,#3b2f63 0%,#2b2350 100%);color:#fff;box-shadow:0 12px 40px rgba(19,24,44,0.25);z-index:1000;overflow-y:auto;}
        .sidebar-header{padding:1rem 0.5rem;border-bottom:1px solid rgba(255,255,255,0.04);margin-bottom:6px;}
        .sidebar .logo h2{color:#fff;font-size:18px;font-weight:700;margin:0 0 4px 8px;}
        .sidebar .logo .brand-sub{color:rgba(255,255,255,0.75);font-size:12px;margin-left:8px;}
        .admin-profile{padding:12px 8px;border-bottom:1px solid rgba(255,255,255,0.04);}
        .admin-info h4{color:#fff;margin:0;font-size:14px;}
        .admin-info p{color:rgba(255,255,255,0.65);margin:2px 0 0 0;font-size:12px;}
        .sidebar-nav{list-style:none;padding:6px;margin:6px 0;}
        .sidebar-nav li{margin:6px 0;}
        .sidebar-nav a{display:flex;align-items:center;gap:12px;padding:10px 12px;color:rgba(255,255,255,0.86);text-decoration:none;border-radius:10px;position:relative;transition:background 0.18s ease,transform 0.12s ease;}
        .sidebar-nav a i{width:26px;text-align:center;font-size:14px;}
        .sidebar-nav a .label{font-size:14px;}
        .sidebar-nav a:hover{background:rgba(255,255,255,0.04);color:#fff;transform:translateX(3px);}
        .sidebar-nav li.active a{background:transparent;color:#fff;font-weight:600;}
        .sidebar-nav li.active a::before{content:'';position:absolute;left:8px;top:8px;bottom:8px;width:6px;border-radius:6px;background:var(--primary-gradient);}
        .sidebar-nav li.active a .label{margin-left:6px;}
        .main-content{margin-left:var(--sidebar-width);min-height:100vh;}
        .admin-container{max-width:600px;margin:0 auto;padding:2rem;}
        .quiz-card{background:var(--card);border-radius:var(--radius);padding:1.5rem;box-shadow:var(--shadow);border:1px solid var(--border);}
        .quiz-card h1{font-size:1.5rem;color:var(--text-primary);margin-bottom:0.25rem;}
        .quiz-card .subtitle{color:var(--muted);margin-bottom:1.5rem;font-size:0.9rem;}
        .form-group{margin-bottom:1.25rem;}
        .form-group label{display:block;font-weight:600;color:var(--text-primary);margin-bottom:0.5rem;}
        .form-group input{width:100%;padding:0.75rem;border:1px solid var(--border);border-radius:8px;font-size:0.9rem;}
        .form-group input:focus{outline:none;border-color:#667eea;}
        .button-group{display:flex;gap:0.75rem;margin-top:1.5rem;}
        .btn{padding:0.6rem 1.25rem;border-radius:8px;border:none;cursor:pointer;font-weight:600;font-size:0.9rem;text-decoration:none;display:inline-flex;align-items:center;gap:8px;}
        .btn-primary{background:var(--primary-grad);color:#fff;}
        .btn-secondary{background:var(--card);color:var(--muted);border:1px solid var(--border);}
        .alert-danger{background:#fee2e2;color:#991b1b;border:1px solid #fecaca;padding:0.75rem 1rem;border-radius:8px;margin-bottom:1rem;}
    </style>
{% endblock %}

{% block body %}
    {% include 'back/_sidebar.html.twig' %}
    <div class="main-content">
        {% include 'back/_admin_navbar.html.twig' %}
        <div class="admin-container">
            <div class="quiz-card">
                <h1><i class="fas fa-plus-circle" style="margin-right:0.5rem;"></i> Nouveau quiz</h1>
                <p class="subtitle">Ajoutez un nouveau quiz à la plateforme</p>

                {% if error|default(null) %}
                <div class="alert-danger">{{ error }}</div>
                {% endif %}

                <form method="POST">
                    <div class="form-group">
                        <label for="titre">Titre du quiz *</label>
                        <input type="text" id="titre" name="titre" placeholder="ex. Quiz Réseaux" required>
                    </div>
                    <div class="button-group">
                        <button type="submit" class="btn btn-primary"><i class="fas fa-check"></i> Créer</button>
                        <a href="{{ path('admin_quiz_list') }}" class="btn btn-secondary">Annuler</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
{% endblock %}
